<!DOCTYPE html>
<html>
<head>
	<title>Chords</title>
	<script type="text/javascript" src="lib/d3.v2.js"></script>

	<script type="text/javascript" src="js/chordData.js"></script>
	<script type="text/javascript" src="js/chordCircle.js"></script>
	<script type="text/javascript" src="js/player.js"></script>

	<link rel="stylesheet" type="text/css" href="chord.css"/>
</head>
<body class="background">
	<audio src="audio/piano/2C#.mp3" autoplay></audio>
	<!-- <audio src="audio/piano/3A.mp3" autoplay></audio> -->

	<div id="chordContainer"></div>
	<div id="audios"></div>
	<script type="text/javascript">

		var chordRad = 200; // radius of main chord circle
		var marginX = 140;
		var marginY = 40;

		var svg = d3.select("#chordContainer")
					.append("svg")
					.attr("width", "1000")
					.attr("height", "1000");

		var rootG = svg.append('g')
					.attr('transform', 'translate(' + marginX + ', ' + marginY + ')');

		var chordData = chordData();
		chordData.init();

		var chordCircle = chordCircle();
		var player = chordPlayer();

		function playerCallback() {
			chordCircle.chordRad = chordRad;
			chordCircle.init(rootG, chordData, player);
		}
		player.init(playerCallback);

	</script>
</body>
</html>